'SELECT dept, course_num, title, section_num, day, time_start, time_end, enrollment, a.building_code, time_between(a.lon, a.lat, b.lon, b.lat) AS walking_time FROM courses JOIN sections ON courses.course_id = sections.course_id WHERE courses.dept = ? JOIN meeting_patterns ON sections.meeting_pattern_id = meeting_patterns.meeting_pattern_id JOIN gps AS a ON sections.building_code = a.building_code JOIN (SELECT building_code, lon, lat FROM gps WHERE time_between(lon, lat, ?, ?) <= ?) AS b' 
